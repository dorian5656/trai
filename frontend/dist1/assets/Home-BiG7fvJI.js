import{d as j,w as q,o as Z,h as n,u as e,j as M,m as s,z as k,F as R,Z as V,k as J,D as S,p as K,r as g,E as Q,f as l,A as W,n as X}from"./index-BsNoB7Jt.js";import{c as Y,d as ee,e as se,M as oe,C as x,f as ie,g as le,h as ne}from"./MessageList-Q9hr4ZAk.js";import{u as te}from"./github-dark-DFsgPu_-.js";import{u as ae}from"./user-D1mZdTjE.js";import{z as de}from"./_plugin-vue_export-helper-BZejiBou.js";const re={class:"mobile-container"},ce={class:"sidebar-header"},ue={class:"user-info"},ge={key:0,class:"avatar"},ve=["src"],pe={key:1,class:"avatar"},me={class:"username"},ke={class:"action-area"},Se={class:"recent-chats"},be=["onClick"],he={class:"mobile-header"},_e={class:"left"},fe={class:"right"},Ce={key:0,class:"user-actions"},Fe={class:"mobile-content"},we={key:0,class:"chat-layout"},Le={class:"chat-footer"},Te={key:1,class:"welcome-wrapper"},ye={class:"input-area-wrapper"},Me={class:"skills-grid"},Re=["onClick"],Ve=["innerHTML"],xe={class:"skill-label"},Pe=j({__name:"Home",setup(De){const P=Q(),t=Y(),a=te(),d=ae(),{isListening:b,result:D,toggleListening:h}=ee(),{uploadedFiles:v,showViewer:I,previewUrlList:B,initialIndex:U,handleFileSelect:_,removeFile:f,handlePreview:C,closeViewer:z,clearFiles:H}=le(),{allSkills:$,activeSkill:p,handleSkillClick:A,removeSkill:F}=ne(),r=g(""),m=g(!1),w=g(null),u=g(!1),{handleSend:L,handleStop:T}=se(a,r,p,v,m,()=>w.value?.scrollToBottom(),H),y=()=>{u.value=!u.value};q(D,c=>{c&&(r.value=c)}),Z(()=>{d.init()});const E=()=>{P.push("/login")},G=()=>{d.logout()},N=c=>{c.label!=="ç›¸ä¼¼åº¦è¯†åˆ«"&&(A(c),X(()=>{const o=document.querySelector(".input-box input");o&&o.focus()}))};return(c,o)=>(l(),n("div",re,[e(t).isMobileSidebarOpen?(l(),n("div",{key:0,class:"sidebar-mask",onClick:o[0]||(o[0]=(...i)=>e(t).closeMobileSidebar&&e(t).closeMobileSidebar(...i))})):M("",!0),s("aside",{class:J(["mobile-sidebar",{open:e(t).isMobileSidebarOpen}])},[s("div",ce,[s("div",ue,[e(d).avatar?(l(),n("div",ge,[s("img",{src:e(d).avatar,alt:"Avatar"},null,8,ve)])):(l(),n("div",pe,"ðŸ‘©â€ðŸ’»")),s("span",me,k(e(d).isLoggedIn?e(d).username:"é©¼äººGPT"),1)]),s("button",{class:"close-btn",onClick:o[1]||(o[1]=(...i)=>e(t).closeMobileSidebar&&e(t).closeMobileSidebar(...i))},"âœ•")]),s("div",ke,[s("button",{class:"new-chat-btn",onClick:o[2]||(o[2]=i=>e(a).createSession())},"ðŸ“ æ–°å¯¹è¯")]),s("div",Se,[o[7]||(o[7]=s("div",{class:"section-title"},"æœ€è¿‘å¯¹è¯",-1)),(l(!0),n(R,null,V(e(a).sessions,i=>(l(),n("div",{key:i.id,class:"chat-item",onClick:O=>{e(a).switchSession(i.id),e(t).closeMobileSidebar()}},k(i.title),9,be))),128))]),o[8]||(o[8]=s("div",{class:"sidebar-footer"},[s("button",{class:"footer-btn"},"â„¹ï¸ å…³äºŽé©¼äººGPT")],-1))],2),s("header",he,[s("div",_e,[s("button",{class:"icon-btn",onClick:o[3]||(o[3]=(...i)=>e(t).toggleMobileSidebar&&e(t).toggleMobileSidebar(...i))},"â˜°"),s("button",{class:"new-chat-pill",onClick:o[4]||(o[4]=i=>e(a).createSession())},"ðŸ“ æ–°å¯¹è¯")]),s("div",fe,[e(d).isLoggedIn?(l(),n("div",Ce,[s("button",{class:"logout-btn",onClick:G},"é€€å‡º")])):(l(),n("button",{key:1,class:"login-btn",onClick:E},"ç™»å½•"))])]),s("main",Fe,[e(a).messages.length>0?(l(),n("div",we,[S(oe,{messages:e(a).messages,ref_key:"messageListRef",ref:w},null,8,["messages"]),s("div",Le,[S(x,{modelValue:r.value,"onUpdate:modelValue":o[5]||(o[5]=i=>r.value=i),"is-sending":m.value,"is-deep-thinking":u.value,"active-skill":e(p),"uploaded-files":e(v),"is-listening":e(b),onSend:e(L),onStop:e(T),onToggleDeepThink:y,onToggleListening:e(h),onRemoveSkill:e(F),onFileSelect:e(_),onRemoveFile:e(f),onPreviewFile:e(C)},null,8,["modelValue","is-sending","is-deep-thinking","active-skill","uploaded-files","is-listening","onSend","onStop","onToggleListening","onRemoveSkill","onFileSelect","onRemoveFile","onPreviewFile"])])])):(l(),n("div",Te,[o[9]||(o[9]=s("h1",{class:"greeting"},"ä½ å¥½ï¼Œæˆ‘æ˜¯é©¼äººGPT",-1)),s("div",ye,[S(x,{modelValue:r.value,"onUpdate:modelValue":o[6]||(o[6]=i=>r.value=i),"is-sending":m.value,"is-deep-thinking":u.value,"active-skill":e(p),"uploaded-files":e(v),"is-listening":e(b),onSend:e(L),onStop:e(T),onToggleDeepThink:y,onToggleListening:e(h),onRemoveSkill:e(F),onFileSelect:e(_),onRemoveFile:e(f),onPreviewFile:e(C)},null,8,["modelValue","is-sending","is-deep-thinking","active-skill","uploaded-files","is-listening","onSend","onStop","onToggleListening","onRemoveSkill","onFileSelect","onRemoveFile","onPreviewFile"])]),s("div",Me,[(l(!0),n(R,null,V(e($),i=>(l(),n("div",{key:i.label,class:"skill-item",onClick:O=>N(i)},[s("div",{class:"skill-icon-wrapper",style:W({color:i.color})},[s("span",{class:"skill-icon",innerHTML:i.icon},null,8,Ve)],4),s("span",xe,k(i.label),1)],8,Re))),128))])]))]),e(I)?(l(),K(e(ie),{key:1,"url-list":e(B),"initial-index":e(U),onClose:e(z)},null,8,["url-list","initial-index","onClose"])):M("",!0)]))}}),$e=de(Pe,[["__scopeId","data-v-1b3d97bc"]]);export{$e as default};
